{% extends 'tedx_finance/base.html' %}
{% block title %}Manage Categories - {{ block.super }}{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
  <h1 class="text-3xl font-bold text-white mb-4">Manage Categories</h1>
  <p class="text-slate-400 mb-6">Add or remove custom categories for transactions. These will show up in forms and filters.</p>

  <div class="section-card mb-8">
    <form method="post" class="flex flex-col sm:flex-row gap-3 items-stretch sm:items-end">
      {% csrf_token %}
      <div class="flex-1">
        <label class="block text-slate-300 text-sm font-semibold mb-2">New Category Name</label>
        <input type="text" name="name" placeholder="e.g., Travel" class="w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500">
      </div>
      <button type="submit" class="bg-purple-600 text-white font-bold px-6 py-2 rounded-lg hover:bg-purple-700">Add Category</button>
    </form>
  </div>

  <div class="section-card">
    <h2 class="text-xl font-semibold text-white mb-3">Existing Categories</h2>
    {% if categories %}
    <ul class="divide-y divide-slate-700">
      {% for c in categories %}
      <li class="flex items-center justify-between py-3">
        <span class="text-slate-200">{{ c.name }}</span>
        <a href="?delete={{ c.id }}" class="text-red-400 hover:text-red-300 text-sm" onclick="return confirm('Delete category \"{{ c.name }}\"? Transactions using it will keep the text value.');">Delete</a>
      </li>
      {% endfor %}
    </ul>
    {% else %}
      <p class="text-slate-400">No custom categories yet.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
